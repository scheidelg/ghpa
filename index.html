<!DOCTYPE html>
<html>
    <head>
        <link rel="stylesheet" type="text/css" href="/localstyle.css">

        <!-- Load the GHPA functions and initial configuration. -->
        <script src="/js/GHPA.js"></script>
    </head>
    <body>
        <noscript><p>
            GHPA requires client-side JavaScript to be enabled. Please enable JavaScript and reload the page.
        <p></noscript>

        <h1>GitHub Pages Authentication (GHPA)</h1>
        
        <p>GitHub Pages Authentication (GHP-Auth or GHPA) allows a GitHub Pages website to be used as a secure front-end for content stored in a private GitHub repository. This website demonstrates using GHPA.<p>
        
        <p>For details on GHPA, see <a href="https://github.com/scheidelg/ghpa">https://github.com/scheidelg/ghpa</a>.</p>

        <hr>

        <table>
            <tr>
                <th colspan="4" style="font-style: italic;">These are the currently configured global GHPA configuration options and variables.</th>
            <tr>
            <tr>
                <th>Description</th>
                <th>Variable</th>
                <th>Value</th>
                <th>Can be Overridden?</th>
            </tr>
            <tr>
                <td>Current GitHub and GHPA SSO user ID</td>
                <td>ghpaUserID</td>
                <td><script>if (ghpaUserID) { document.write(ghpaUserID); } else { document.write('(not currently logged in)'); }</script></td>
                <td>Y</td>
            </tr>
            <tr>
                <td>GitHub Organization
                    <br>The GitHub organization that will be used unless overridden on a specific web page.
                </td>
                <td>ghpaOrg</td>
                <td><script>if (ghpaOrg) { document.write(ghpaOrg); } else { document.write('(empty)'); }</script></td>
                <td>Y</td>
            </tr>
            <tr>
                <td>GitHub Repository
                    <br>The GitHub repository that will be used unless overridden on a specific web page.
                </td>
                <td>ghpaRepo</td>
                <td><script>if (ghpaRepo) { document.write(ghpaRepo); } else { document.write('(empty)'); }</script></td>
                <td>Y</td>
            </tr>
            <tr>
                <td>GitHub Branch
                    <br>The GitHub branch that will be used unless overridden on a specific web page.
                </td>
                <td>ghpaBranch</td>
                <td><script>if (ghpaBranch) { document.write(ghpaBranch); } else { document.write('(empty)'); }</script></td>
                <td>Y</td>
            </tr>
            <tr>
                <td>Default HTML File
                    <br>The HTML file to retrieve from the private GitHub repository if the browsing a GitHub Pages directory.
                </td>
                <td>ghpaDefaultHTMLfile</td>
                <td><script>if (ghpaDefaultHTMLfile) { document.write(ghpaDefaultHTMLfile); } else { document.write('(empty)'); }</script></td>
                <td>Y</td>
            </tr>
            <tr>
                <td>Login File
                    <br>The HTML file to load as the login form when the user needs to authenticate to GitHub.<br>
                </td>
                <td>ghpaLoginFormfile</td>
                <td><script>if (ghpaLoginFormfile) { document.write(ghpaLoginFormfile); } else { document.write('(empty)'); }</script></td>
                <td>Y</td>
            </tr>
            <tr>
                <td>File to Retrieve 
                    <br>The name of the file to retrieve from the private GitHub repository. This should always be empty in the global configuration.
                </td>
                <td>ghpaFilename</td>
                <td><script>if (ghpaFilename) { document.write(ghpaFilename); } else { document.write('(empty)'); }</script></td>
                <td>Y</td>
            </tr>
            <tr>
                <td>Flag: GitHub Tokens Only
                    <br>Should the password be required to match the format of a GitHub personal access token string?
                </td>
                <td>ghpaTokensOnlyFlag</td>
                <td><script>if (ghpaTokensOnlyFlag) { document.write(ghpaTokensOnlyFlag); } else { document.write('(empty)'); }</script></td>
                <td>N</td>
            </tr>
            <tr>
                <td>Flag: Single Sign-on (SSO)
                    <br>Should successful authentication cause GitHub credentials to be remembered and used for later authentication (so that the user doesn't have to continually re-enter the credentials)?
                </td>
                <td>ghpaSSOFlag</td>
                <td><script>if (ghpaSSOFlag) { document.write(ghpaSSOFlag); } else { document.write('(empty)'); }</script></td>
                <td>Y</td>
            </tr>
            <tr>
                <td>Flag: Authentication Only
                    <br>Should a public stub file should only perform a GitHub authentication check (e.g., authentication-only) vs. loading a page from the private GitHub repository?<br>
                </td>
                <td>ghpaAuthOnlyFlag</td>
                <td><script>if (ghpaAuthOnlyFlag) { document.write(ghpaAuthOnlyFlag); } else { document.write('(empty)'); }</script></td>
                <td>Y</td>
            </tr>
            <tr>
                <td>Flag: Only Render Retreived Body
                    <br>After retrieving content from a private GitHub repository file, should we check the retrieved content for &lt;body&gt;&lt;/body&gt; tags and only render that content, vs. rendering all the retrieved content?
                </td>
                <td>ghpaRenderRetrievedBodyOnlyFlag</td>
                <td><script>if (ghpaRenderRetrievedBodyOnlyFlag) { document.write(ghpaRenderRetrievedBodyOnlyFlag); } else { document.write('(empty)'); }</script></td>
                <td>Y</td>
            </tr>
        <table>

        <table>
            <tr>
                <th colspan="8" style="font-style: italic;">These pages demonstrate different ways to use GHPA to access the content in the private GitHub repository.</th>
            <tr>
            <tr>
                <th>Description</th>
                <th>Public File</th>
                <th>Private Repo</th>
                <th>Private File</th>
                <th>Login Form</th>
                <th>SSO?</th>
                <th>Auth Only?</th>
                <th>Retrieve Only &lt;body&gt;?</th>
            </tr>
            <tr>
                <td><a href="examples/file1.html">Public stub file, corresponding private file</a>
                    <p>The stub file exists in the public repository and a corresponding private file exists in the private repository.</p>
                </td>
                <td>file1.html</td>
                <td>ghpa-private-1</td>
                <td>file1.html</td>
                <td>loginform.html
                    <p>(global)</p>
                </td>
                <td>Y
                    <p>(global)><p>
                </td>
                <td>g</td>
                <td>h</td>
            </tr>
            <tr>
                <td><a href="examples/file2.html">Public stub file, corresponding private file, no SSO</a>
                    <p>The stub file 'file2.html' exists in the private repository and a corresponding private file exists in the private repository. However, the public stub file explicitly includes a flag to <b>not</b> use or cache credentials.</p>
                </td>
                <td>j</td>
                <td>k</td>
                <td>l</td>
                <td>m</td>
                <td>n</td>
                <td>o</td>
                <td>p</td>
            </tr>
            <tr>
                <td><a href="examples/file3.html">Public stub file, corresponding private file, different login form</a>
                    <p>The stub file 'file3.html' exists in the public repository and a corresponding private file exists in the private repository. This example uses a different login form.</p>
                </td>
                <td>j</td>
                <td>k</td>
                <td>l</td>
                <td>m</td>
                <td>n</td>
                <td>o</td>
                <td>p</td>
            </tr>
            <tr>
                <td><a href="examples/explicit.html">Public stub file, different private file</a>
                    <p>The stub file 'explicit.html' exists in the public repository but explicitly identifies 'file4.html' as the file to load from the private repository.</p></td>
                <td>j</td>
                <td>k</td>
                <td>l</td>
                <td>m</td>
                <td>n</td>
                <td>o</td>
                <td>p</td>
            </tr>
            <tr>
                <td><a href="examples/no_file.html">Public stub file, no corresponding private file</a>
                    <p>The stub file 'no_file.html' exists in the public repository but there's no corresponding file in the private repository.</p>
                </td>
                <td>j</td>
                <td>k</td>
                <td>l</td>
                <td>m</td>
                <td>n</td>
                <td>o</td>
                <td>p</td>
            </tr>
            <tr>
                <td><a href="examples/login.html">Login to GitHUb</a>
                    <p>Access the login page to authenticate to GitHub without actually loading a private file, and cache credentials. This is useful only to establish authentication for SSO.</p>
                </td>
                <td>j</td>
                <td>k</td>
                <td>l</td>
                <td>m</td>
                <td>n</td>
                <td>o</td>
                <td>p</td>
            </tr>
            <tr>
                <td><a href="examples/logout.html">Logout of the private repository</a>
                    <p>Clear cached credentials so that you have to authenticate again to access content from the private repository.</p>
                </td>
                <td>j</td>
                <td>k</td>
                <td>l</td>
                <td>m</td>
                <td>n</td>
                <td>o</td>
                <td>p</td>
            </tr>
            <tr>
                <td>i</td>
                <td>j</td>
                <td>k</td>
                <td>l</td>
                <td>m</td>
                <td>n</td>
                <td>o</td>
                <td>p</td>
            </tr>
            <tr>
                <td>i</td>
                <td>j</td>
                <td>k</td>
                <td>l</td>
                <td>m</td>
                <td>n</td>
                <td>o</td>
                <td>p</td>
            </tr>
        </table>

    </body>
</html>
