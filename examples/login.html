<!DOCTYPE html>
<html>
    <head>
        <link rel="stylesheet" type="text/css" href="/localstyle.css">

        <!-- Load the GHPA functions and initial configuration. -->
        <script src="/js/GHPA.js"></script>

        <!-- Set the flag to identify that we only want to authenticate to the
             private GitHub repository; we don't want to load a file. -->
        <script>ghpaAuthOnlyFlag = true;</script>
    </head>

    <!-- After the <body> is done loading: If desired and possible, then load
         content from the private GitHub repository; otherwise display the
         login form and (if an attempt to load content was made) status
         message. -->
    <body onload="ghpaLoadPage()">
        <!-- content to be displayed if JavaScript isn't enabled -->
        <noscript><p>
            GHPA requires client-side JavaScript to be enabled. Please enable JavaScript and reload the page.
        <p></noscript>

        <!-- In each stub file, we can have an element with an id of
             'ghpaPrompt'.  For this page specifically, do *not* set the style
             propertyof 'display: none' because this page has
             'ghpaAuthOnlyFlag' set so that a private repository file isn't
             loaded after successful authentication; and we want to keep the
             page prompt on screen even after successful, including if the
             users is already authenticated and accesses this page. -->
        <div id="ghpaPrompt">
            <h1>Login to private repository</h1>
            <p>Access the login page to authenticate to GitHub and cache credentials, without actually loading a private file. This is useful only to establish authentication for SSO.</p>
            <ul>
                <li>If you haven't already authenticated to the private GitHub repository, then this page will briefly display a 'Loading content...' message that is automatically replaced by this introductory content and a login form.</li>
                <li>If you use the form and <b>unsuccessfully</b> authenticate to the private GitHub repository, then this page will still display the introductory content and login form but will also display a message identifying the type of authentication failure.</li>
                    <li>If you use the form and <b>successfully</b> authenticate to the private GitHub repository:
                    <ul>
                        <li> this page will display an 'authentication successful' message, but <b>no</b> content from the private GitHub repository will be displayed;</li>
                        <li> your authentication credentials will be stored in memory for future use; and</li>
                        <li> if you refresh this page or access other pages that use the stored authentication credentials, then the page will  briefly display the 'Loading content...' message and attempt to use the stored credentials to access the private GitHub repository.</li>
                    </ul>
                </li>
            </ul>
            <p>Note: If you want a login page but want to display a static 'login successful' message, then don't bother with 'ghpaAuthOnlyFlag'. Just create a public stub file called 'login.html' or something similar, and create a corresponding private file that contains your static 'login successful' message.</p>

            <hr>
        </div>

        <!-- In each stub file, we need an element with an id of
             'ghpaLoginForm'.  This containts the initial 'Loading content...'
             text.  The code in ghpaLoadPage.js attempts - if SSO is enabled -
             to load content from the private repository.  if that succeeds,
             then the ghpaLoginForm element is replaced with the content
             loaded from the private GitHub repository. -->
        <div id="ghpaLoginForm">
            <p>Loading content...</p>
        </div>

        <!-- In each stub file, we can have an element with an id of
             'ghpaAuthMessage'.  If the gphaRetrieve() function fails to
             authenticate to or load content from the private GitHub
             repository, then the contents of the ghpaAuthMessage element are
             replaced with a status message. -->
        <div id="ghpaAuthMessage" style="font-style: italic;"></div>
    </body>
</html>
