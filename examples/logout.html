<!DOCTYPE html>
<html>
    <head>
        <link rel="stylesheet" type="text/css" href="/localstyle.css">

        <!-- Load the GHPA functions and initial configuration. -->
        <script src="/js/GHPA.js"></script>

        <!-- Local script to present a slightly nicer interface. -->
        <script>
            function pageMessage() {
                // Use setTimeout() for a brief delay on the UI
                setTimeout(
                    function() {
                        if (ghpaClearSSO()) {
                            document.getElementById('pageMessage').innerHTML = "<p>SSO credentials cleared. <a href='login.html'>Click here</a> to login again.</p>"
                        } else {
                            document.getElementById('pageMessage').innerHTML = "<p>Unable to confirm clearing SSO credentials. Close the browser window to clear credentials.</p>"
                        }
                    }, 2000);
            }
        </script>
    </head>

    <!-- After loading the <body> of the page, call the JavaScript function
          that clears the saved authentication token - if any - from
          sessionStorage. -->
    <body onload="pageMessage();">
        <noscript><p>
            GHPA requires client-side JavaScript to be enabled. Please enable JavaScript and reload the page.
        <p></noscript>

        <h1>Logout of the private repository</h1>
        <p>Clear cached credentials so that you have to authenticate again to access content from the private repository.</p>
        <p>Regardless of whether you've already authenticated to the private GitHub repository, this page will brief display a 'logging out' message and after a brief artificial pause will report whether the SSO credentials were cleared.</p>

        <hr>

        <p>Logging out of GitHub by clearing SSO authentication credentials...</p>
        <div id="pageMessage"></div>
    </body>
</html>
